\batchmode
\documentclass[14pt, openany]{book}
\pagestyle{plain}
\usepackage{setspace}
\usepackage{enumitem}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{extsizes}
\usepackage[english,russian]{babel}
\let\cdash=\rcdash
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{tempora}
\usepackage[nottoc,notlot,notlof,numbib]{tocbibind}
\usepackage{natbib}
\usepackage{indentfirst}
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\normalfont\bfseries}{}{0pt}{\Huge}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{tlatex}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.98,0.98,0.98}

\lstdefinestyle{mystyle}{
    frame=single,
    aboveskip=5mm,
    belowskip=5mm,
    backgroundcolor=\color{backcolour},   
    language=scala,
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\small\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=7pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
}

\lstset{style=mystyle}
  
\geometry{
    a4paper,
    left=20mm,
    top=20mm,
    right=20mm,
    bottom=20mm
}
\setlist[itemize]{noitemsep, topsep=0pt}
\setstretch{1.5}

\newcommand{\tlapl}{TLA\textsuperscript{+} }

\title{Применение формальных методов при спецификации бизнес-процессов}
\author{Морковкин Василий}
\date{2022}
\setlength{\parindent}{2em}

\setlength{\textwidth}{483.69pt}
\begin{document}
\makeatletter
\chardef\%=`\%
\fl{ {\p@mmalgorithm} trafficLight}
\fl{ {\p@variables}}
\fl{ moveTo \.{=}\@w{green} ,\,}
\fl{ red \.{=} {\TRUE} ,\,}
\fl{ yellow \.{=} {\FALSE} ,\,}
\fl{ green \.{=} {\FALSE} ,\,}
\fl{ {\p@begin}}
\fl{ Action\@s{.5}\textrm{:}\@s{3}}
\fl{ {\p@either}}
\fl{ {\p@await} green {\p@semicolon}}
\fl{ yellow}\al{10}{1}{ \.{:=}}\al{10}{2}{ {\TRUE} {\p@semicolon}}
\fl{ moveTo}\al{11}{1}{ \.{:=}}\al{11}{2}{\@w{red}}
\fl{ {\p@or}}
\fl{ {\p@await} yellow \.{\land} moveTo \.{=}\@w{red} {\p@semicolon}}
\fl{ red \.{:=} {\TRUE} {\p@semicolon}}
\fl{ {\p@or}}
\fl{ {\p@await} yellow \.{\land} moveTo \.{=}\@w{green} {\p@semicolon}}
\fl{ green \.{:=} {\TRUE} {\p@semicolon}}
\fl{ {\p@or}}
\fl{ {\p@await} red {\p@semicolon}}
\fl{ yellow}\al{20}{1}{ \.{:=}}\al{20}{2}{ {\TRUE} {\p@semicolon}}
\fl{ moveTo}\al{21}{1}{ \.{:=}}\al{21}{2}{\@w{green}}
\fl{ {\p@end} {\p@either} {\p@semicolon}}
\fl{ {\p@goto} Action}\al{23}{2}{ {\p@semicolon}}
\fl{ {\p@end} {\p@algorithm}}\al{24}{2}{ {\p@semicolon}}
\end{document}
